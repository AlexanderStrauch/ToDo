<h1>Editing Task</h1>

<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="title">Title:</label>
      <input type="text" class="form-control" id="title" formControlName="title"
      [ngClass]="{
        'is-invalid': form.controls.title.invalid && form.controls.title.dirty,
        'is-valid': form.controls.title.valid && form.controls.title.dirty}">
    </div>
    <div class="form-group">
      <label for="details">Details:</label>
      <input type="text" class="form-control" id="details" formControlName="details"
      [ngClass]="{
        'is-invalid': form.controls.details.invalid && form.controls.details.dirty,
        'is-valid': form.controls.details.valid && form.controls.details.dirty}">
    </div>    
    <div class="form-group">
      <label for="assignee">Asignee:</label>
      <app-person-single-select formControlName="assignee"></app-person-single-select>
      <span class="text-danger" *ngIf="form.controls.assignee.dirty && form.controls.assignee.invalid">
        Task must be assigned to a person!
      </span>
    </div>    
    <div class="form-group">
      <label for="project">Project:</label>
      <app-project-single-select formControlName="project"></app-project-single-select>
      <span class="text-danger" *ngIf="form.controls.project.dirty && form.controls.project.invalid">
        Task must be assigned to a project!
      </span>
    </div>
    <div class="form-group">
      <label for="completed">Completed:</label>
      <input type="checkbox" class="checkbox checkbox-custom" id="completed" formControlName="completed"
      [ngClass]="{
        'is-invalid': form.controls.completed.invalid && form.controls.completed.dirty,
        'is-valid': form.controls.completed.valid && form.controls.completed.dirty}">
    </div>
    <button type="submit" class="btn btn-primary btn-custom" [disabled]="form.invalid">Ok</button>&nbsp;
    <button type="button" class="btn btn-success btn-custom" (click)="onCancel()">Cancel</button>
</form>